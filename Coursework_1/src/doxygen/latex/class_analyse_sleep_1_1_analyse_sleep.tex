\hypertarget{class_analyse_sleep_1_1_analyse_sleep}{}\section{Analyse\+Sleep.\+Analyse\+Sleep Class Reference}
\label{class_analyse_sleep_1_1_analyse_sleep}\index{Analyse\+Sleep.\+Analyse\+Sleep@{Analyse\+Sleep.\+Analyse\+Sleep}}


\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep}{Analyse\+Sleep}} Class.  


\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a16f9c6a130cd45c58550943b31f11e8d}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\begin{DoxyCompactList}\small\item\em Constructor to initialise parameters/variables. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_aecc34ea1620f4d88b834c13e8440697b}{categ\+\_\+sleep}} (self, data, mic)
\begin{DoxyCompactList}\small\item\em Categorises sleep into phases. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a6210c4dfbfae41c5a36989ef1d731dde}{inc\+\_\+sleep\+\_\+state}} (self, data, mic)
\begin{DoxyCompactList}\small\item\em Categorise the input data. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a7e990154cc39abd4a1a29caf4f75b95e}{dec\+\_\+sleep\+\_\+state}} (self, x, mic)
\begin{DoxyCompactList}\small\item\em State machine to decrease the phases. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a44275bddcab6f7793a6ba0e19bd8b911}{write\+\_\+out}} (self, p, st)
\begin{DoxyCompactList}\small\item\em Send the phase in Json format. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_ac528b9ebfd3490049266f1b56996909d}{current\+\_\+state}}
\begin{DoxyCompactList}\small\item\em Current state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a5b1f84d0061b93d14c5ff653c50fecd9}{l\+\_\+thr}}
\begin{DoxyCompactList}\small\item\em Refer to diagrams in datasheet. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a5cdfaa0e9ec83e31e62c087c5c99d52c}{h\+\_\+thr}}
\begin{DoxyCompactList}\small\item\em After going to higher threshold phase, sleep cannot go lower than this. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_aa8260b640012bb57798435f5d29fb411}{counter}}
\begin{DoxyCompactList}\small\item\em Counter to indicate whether change state or not. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a7f6d8ac2a8055df61a58a5f7aeca59a8}{inc}}
\begin{DoxyCompactList}\small\item\em Boolean to indicate increase or decrease the phases. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_af4fdb6c697e7a269a49a761402aeb497}{next\+\_\+h}}
\begin{DoxyCompactList}\small\item\em Next high threshold. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
list \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a2629157f9258b573b5e7511f60f96d28}{stage\+\_\+threshold}} = \mbox{[}0.\+5, 0.\+2, 0.\+15, 0.\+07\mbox{]}
\begin{DoxyCompactList}\small\item\em Sleep Phase thresholds. \end{DoxyCompactList}\item 
list \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_aabef9d1402df081df65bc01bf57b937c}{mic\+\_\+threshold}} = \mbox{[}1.\+6, 2.\+5\mbox{]}
\begin{DoxyCompactList}\small\item\em Microphone threshold values. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_abdf7b099c5aa3b3ef80b6294bbeb2312}{rep\+\_\+threshold}} = 2
\begin{DoxyCompactList}\small\item\em Threshold to make sure the phases is changing. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep_a0cf6f530b6c789a7d7a02356d36b10fb}{max\+\_\+depth}} = 5
\begin{DoxyCompactList}\small\item\em Number of sleep phases. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\mbox{\hyperlink{class_analyse_sleep_1_1_analyse_sleep}{Analyse\+Sleep}} Class. 

Implementation of sleep analysis algorithm. Uses accelerometer and microphone. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a16f9c6a130cd45c58550943b31f11e8d}\label{class_analyse_sleep_1_1_analyse_sleep_a16f9c6a130cd45c58550943b31f11e8d}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def Analyse\+Sleep.\+Analyse\+Sleep.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Constructor to initialise parameters/variables. 



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_aecc34ea1620f4d88b834c13e8440697b}\label{class_analyse_sleep_1_1_analyse_sleep_aecc34ea1620f4d88b834c13e8440697b}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!categ\+\_\+sleep@{categ\+\_\+sleep}}
\index{categ\+\_\+sleep@{categ\+\_\+sleep}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{categ\+\_\+sleep()}{categ\_sleep()}}
{\footnotesize\ttfamily def Analyse\+Sleep.\+Analyse\+Sleep.\+categ\+\_\+sleep (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{data,  }\item[{}]{mic }\end{DoxyParamCaption})}



Categorises sleep into phases. 


\begin{DoxyParams}{Parameters}
{\em self} & The object pointer \\
\hline
{\em data} & 3 element array containing x,y,z accelerations \\
\hline
{\em mic} & Microphone reading in dB \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a7e990154cc39abd4a1a29caf4f75b95e}\label{class_analyse_sleep_1_1_analyse_sleep_a7e990154cc39abd4a1a29caf4f75b95e}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!dec\+\_\+sleep\+\_\+state@{dec\+\_\+sleep\+\_\+state}}
\index{dec\+\_\+sleep\+\_\+state@{dec\+\_\+sleep\+\_\+state}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{dec\+\_\+sleep\+\_\+state()}{dec\_sleep\_state()}}
{\footnotesize\ttfamily def Analyse\+Sleep.\+Analyse\+Sleep.\+dec\+\_\+sleep\+\_\+state (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{x,  }\item[{}]{mic }\end{DoxyParamCaption})}



State machine to decrease the phases. 

Differes from increment. If any of the directions are above the threshold, then decrease the phase. \mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a6210c4dfbfae41c5a36989ef1d731dde}\label{class_analyse_sleep_1_1_analyse_sleep_a6210c4dfbfae41c5a36989ef1d731dde}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!inc\+\_\+sleep\+\_\+state@{inc\+\_\+sleep\+\_\+state}}
\index{inc\+\_\+sleep\+\_\+state@{inc\+\_\+sleep\+\_\+state}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{inc\+\_\+sleep\+\_\+state()}{inc\_sleep\_state()}}
{\footnotesize\ttfamily def Analyse\+Sleep.\+Analyse\+Sleep.\+inc\+\_\+sleep\+\_\+state (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{data,  }\item[{}]{mic }\end{DoxyParamCaption})}



Categorise the input data. 

State machine to increase the phases 
\begin{DoxyParams}{Parameters}
{\em self} & The object pointer. \\
\hline
{\em data} & 3 element array containing x,y,z accelerations \\
\hline
{\em mic} & Microphone reading in dB \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a44275bddcab6f7793a6ba0e19bd8b911}\label{class_analyse_sleep_1_1_analyse_sleep_a44275bddcab6f7793a6ba0e19bd8b911}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!write\+\_\+out@{write\+\_\+out}}
\index{write\+\_\+out@{write\+\_\+out}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{write\+\_\+out()}{write\_out()}}
{\footnotesize\ttfamily def Analyse\+Sleep.\+Analyse\+Sleep.\+write\+\_\+out (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{p,  }\item[{}]{st }\end{DoxyParamCaption})}



Send the phase in Json format. 



\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_aa8260b640012bb57798435f5d29fb411}\label{class_analyse_sleep_1_1_analyse_sleep_aa8260b640012bb57798435f5d29fb411}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!counter@{counter}}
\index{counter@{counter}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{counter}{counter}}
{\footnotesize\ttfamily Analyse\+Sleep.\+Analyse\+Sleep.\+counter}



Counter to indicate whether change state or not. 

\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_ac528b9ebfd3490049266f1b56996909d}\label{class_analyse_sleep_1_1_analyse_sleep_ac528b9ebfd3490049266f1b56996909d}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!current\+\_\+state@{current\+\_\+state}}
\index{current\+\_\+state@{current\+\_\+state}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{current\+\_\+state}{current\_state}}
{\footnotesize\ttfamily Analyse\+Sleep.\+Analyse\+Sleep.\+current\+\_\+state}



Current state. 

\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a5cdfaa0e9ec83e31e62c087c5c99d52c}\label{class_analyse_sleep_1_1_analyse_sleep_a5cdfaa0e9ec83e31e62c087c5c99d52c}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!h\+\_\+thr@{h\+\_\+thr}}
\index{h\+\_\+thr@{h\+\_\+thr}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{h\+\_\+thr}{h\_thr}}
{\footnotesize\ttfamily Analyse\+Sleep.\+Analyse\+Sleep.\+h\+\_\+thr}



After going to higher threshold phase, sleep cannot go lower than this. 

until after a reset (ie user wakes up, phase = 0). \mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a7f6d8ac2a8055df61a58a5f7aeca59a8}\label{class_analyse_sleep_1_1_analyse_sleep_a7f6d8ac2a8055df61a58a5f7aeca59a8}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!inc@{inc}}
\index{inc@{inc}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{inc}{inc}}
{\footnotesize\ttfamily Analyse\+Sleep.\+Analyse\+Sleep.\+inc}



Boolean to indicate increase or decrease the phases. 

\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a5b1f84d0061b93d14c5ff653c50fecd9}\label{class_analyse_sleep_1_1_analyse_sleep_a5b1f84d0061b93d14c5ff653c50fecd9}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!l\+\_\+thr@{l\+\_\+thr}}
\index{l\+\_\+thr@{l\+\_\+thr}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{l\+\_\+thr}{l\_thr}}
{\footnotesize\ttfamily Analyse\+Sleep.\+Analyse\+Sleep.\+l\+\_\+thr}



Refer to diagrams in datasheet. 

\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a0cf6f530b6c789a7d7a02356d36b10fb}\label{class_analyse_sleep_1_1_analyse_sleep_a0cf6f530b6c789a7d7a02356d36b10fb}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!max\+\_\+depth@{max\+\_\+depth}}
\index{max\+\_\+depth@{max\+\_\+depth}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{max\+\_\+depth}{max\_depth}}
{\footnotesize\ttfamily int Analyse\+Sleep.\+Analyse\+Sleep.\+max\+\_\+depth = 5\hspace{0.3cm}{\ttfamily [static]}}



Number of sleep phases. 

States\+: 0 (Awake), 1 (First stage of sleep), 2, 3, 4, 5 (last stage of sleep). \mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_aabef9d1402df081df65bc01bf57b937c}\label{class_analyse_sleep_1_1_analyse_sleep_aabef9d1402df081df65bc01bf57b937c}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!mic\+\_\+threshold@{mic\+\_\+threshold}}
\index{mic\+\_\+threshold@{mic\+\_\+threshold}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{mic\+\_\+threshold}{mic\_threshold}}
{\footnotesize\ttfamily list Analyse\+Sleep.\+Analyse\+Sleep.\+mic\+\_\+threshold = \mbox{[}1.\+6, 2.\+5\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Microphone threshold values. 

Measured in decibels (dB). \mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_af4fdb6c697e7a269a49a761402aeb497}\label{class_analyse_sleep_1_1_analyse_sleep_af4fdb6c697e7a269a49a761402aeb497}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!next\+\_\+h@{next\+\_\+h}}
\index{next\+\_\+h@{next\+\_\+h}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{next\+\_\+h}{next\_h}}
{\footnotesize\ttfamily Analyse\+Sleep.\+Analyse\+Sleep.\+next\+\_\+h}



Next high threshold. 

\mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_abdf7b099c5aa3b3ef80b6294bbeb2312}\label{class_analyse_sleep_1_1_analyse_sleep_abdf7b099c5aa3b3ef80b6294bbeb2312}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!rep\+\_\+threshold@{rep\+\_\+threshold}}
\index{rep\+\_\+threshold@{rep\+\_\+threshold}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{rep\+\_\+threshold}{rep\_threshold}}
{\footnotesize\ttfamily int Analyse\+Sleep.\+Analyse\+Sleep.\+rep\+\_\+threshold = 2\hspace{0.3cm}{\ttfamily [static]}}



Threshold to make sure the phases is changing. 

Control the error rate of changing wrong states. \mbox{\Hypertarget{class_analyse_sleep_1_1_analyse_sleep_a2629157f9258b573b5e7511f60f96d28}\label{class_analyse_sleep_1_1_analyse_sleep_a2629157f9258b573b5e7511f60f96d28}} 
\index{Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}!stage\+\_\+threshold@{stage\+\_\+threshold}}
\index{stage\+\_\+threshold@{stage\+\_\+threshold}!Analyse\+Sleep\+::\+Analyse\+Sleep@{Analyse\+Sleep\+::\+Analyse\+Sleep}}
\subsubsection{\texorpdfstring{stage\+\_\+threshold}{stage\_threshold}}
{\footnotesize\ttfamily list Analyse\+Sleep.\+Analyse\+Sleep.\+stage\+\_\+threshold = \mbox{[}0.\+5, 0.\+2, 0.\+15, 0.\+07\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Sleep Phase thresholds. 

Uses reperesents accelerations in m/s$^\wedge$2. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{_analyse_sleep_8py}{Analyse\+Sleep.\+py}}\end{DoxyCompactItemize}
